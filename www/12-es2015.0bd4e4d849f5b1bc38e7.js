(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Ukok:function(t,i,e){"use strict";e.r(i),e.d(i,"ClienteListPageModule",(function(){return y}));var n=e("ofXK"),s=e("3Pt+"),o=e("TEn/"),c=e("tyNb"),r=e("mrSG"),a=e("XIZ/"),l=e("fXoL");function b(t,i){1&t&&(l.Pb(0,"ion-buttons",11),l.Kb(1,"ion-back-button"),l.Ob())}function h(t,i){1&t&&(l.Pb(0,"ion-buttons",11),l.Kb(1,"ion-menu-button"),l.Ob())}function u(t,i){if(1&t&&(l.Pb(0,"ion-title"),l.xc(1),l.Ob()),2&t){const t=l.Zb();l.yb(1),l.yc(t.messages.cliente_list_title)}}function d(t,i){if(1&t){const t=l.Qb();l.Pb(0,"ion-buttons",12),l.Pb(1,"ion-button",7),l.Xb("click",(function(){return l.qc(t),l.Zb().inicializeList()})),l.Kb(2,"ion-icon",13),l.Ob(),l.Pb(3,"ion-button",14),l.Xb("click",(function(){return l.qc(t),l.Zb().showSearchBar()})),l.Kb(4,"ion-icon",15),l.Ob(),l.Ob()}}function f(t,i){if(1&t){const t=l.Qb();l.Pb(0,"ion-button",22),l.Xb("click",(function(){return l.qc(t),l.Zb(2).deleteSearch()})),l.Kb(1,"ion-icon",23),l.Ob()}}function g(t,i){if(1&t){const t=l.Qb();l.Pb(0,"ion-buttons",16),l.Pb(1,"ion-button",17),l.Xb("click",(function(){return l.qc(t),l.Zb().hideSearchBar()})),l.Kb(2,"ion-icon",18),l.Ob(),l.Pb(3,"ion-input",19,20),l.Xb("ionChange",(function(i){return l.qc(t),l.Zb().changeSearch(i.target.value)})),l.Ob(),l.vc(5,f,2,0,"ion-button",21),l.Ob()}if(2&t){const t=l.Zb();l.yb(5),l.ec("ngIf",t.isShowBottomClose)}}function m(t,i){if(1&t){const t=l.Qb();l.Pb(0,"ion-item"),l.Kb(1,"ion-icon",24),l.Pb(2,"ion-label",25),l.Pb(3,"ion-text"),l.Pb(4,"h2"),l.xc(5),l.Ob(),l.Ob(),l.Pb(6,"p"),l.xc(7),l.Ob(),l.Ob(),l.Pb(8,"ion-button",26),l.Xb("click",(function(){l.qc(t);const e=i.$implicit;return l.Zb().alterar(e)})),l.Kb(9,"ion-icon",27),l.Ob(),l.Pb(10,"ion-button",26),l.Xb("click",(function(){l.qc(t);const e=i.$implicit;return l.Zb().excluir(e)})),l.Kb(11,"ion-icon",28),l.Ob(),l.Ob()}if(2&t){const t=i.$implicit;l.yb(1),l.fc("name",t.isPessoaJuridica?"business-outline":"person-outline"),l.yb(4),l.zc(" ",t.isPessoaJuridica?t.razaoSocial:t.nome,""),l.yb(2),l.zc(" ",t.isPessoaJuridica?"CNPJ: "+t.cnpj:"CPF: "+t.cpf,"")}}function p(t,i){if(1&t&&(l.Pb(0,"div",29),l.Pb(1,"ion-row"),l.Kb(2,"img",30),l.Ob(),l.Pb(3,"ion-row"),l.Pb(4,"h6"),l.xc(5),l.Ob(),l.Ob(),l.Ob()),2&t){const t=l.Zb();l.yb(5),l.yc(t.messages.cliente_list_no_dados)}}let w=(()=>{class t extends a.a{ngOnInit(){}ionViewWillEnter(){this.isShowSearch=!1,this.entities.length<=0&&this.buscarTodos()}buscarTodos(){this.showLoading(),this.clienteController.buscarTodos().subscribe(t=>{this.entities=t,this.refreshList(),this.hideLoading(),this.showPanelCad()})}novo(){this.navigate("cliente-cad")}excluir(t){return Object(r.a)(this,void 0,void 0,(function*(){(yield this.messageController.showMessageConfirm(this.messages.dialogs_register_delete_confirmation))&&(this.showLoading(),this.clienteController.excluir(t).subscribe(()=>{this.entities.indexOf(t),this.removeItemLists(t.id),this.messageController.showMessageToast(this.messages.dialogs_register_delete),this.hideLoading(),this.showPanelCad()}))}))}alterar(t){const i=Object.create(null,{navigatePostParams:{get:()=>super.navigatePostParams}});return Object(r.a)(this,void 0,void 0,(function*(){this.showLoading();const e=this.entities.indexOf(t);this.clienteController.buscarPorId(t.id).subscribe(n=>{n.length>0?(i.navigatePostParams.call(this,"cliente-cad",t=n[0],e),this.hideLoading()):(this.messageController.showMessageToast(this.messages.dialogs_register_no_exists),this.refreshList(),this.hideLoading())})}))}filtrarItems(){return this.entities.filter(t=>t.nome.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||t.cpf.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||t.cnpj.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||t.razaoSocial.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||t.fantasia.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1)}aplicarFiltrarItems(){return Object(r.a)(this,void 0,void 0,(function*(){this.entitiesFiltradas=this.searchStr?yield this.filtrarItems():[]}))}getEntities(){return this.entitiesFiltradas.length>0?this.entitiesFiltradas:this.entities}changeSearch(t){this.searchStr=t,this.aplicarFiltrarItems(),this.isShowBottomClose=!!t}showSearchBar(){this.isShowSearch=!0,this.setFocusSearch()}hideSearchBar(){this.isShowSearch=!1,this.searchStr=null,this.aplicarFiltrarItems()}deleteSearch(){this.inputSearch.value="",this.setFocusSearch()}setFocusSearch(){setTimeout(()=>{this.inputSearch.setFocus()},300)}inicializeList(){this.entities=[],this.entitiesFiltradas=[],this.buscarTodos()}}return t.\u0275fac=function(i){return P(i||t)},t.\u0275cmp=l.Db({type:t,selectors:[["app-cliente-list"]],features:[l.vb],decls:14,vars:8,consts:[[3,"translucent"],["color","primary"],["slot","start",4,"ngIf"],[4,"ngIf"],["slot","end",4,"ngIf"],["style","width: 100%;",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[4,"ngFor","ngForOf"],["class","image-center",4,"ngIf"],["slot","start"],["slot","end"],["slot","icon-only","name","refresh"],[2,"margin-right","10px",3,"click"],["slot","icon-only","name","search"],[2,"width","100%"],["slot","start",3,"click"],["slot","icon-only","name","arrow-back-outline"],["autofocus","true","placeHolder","Pesquisar","debounce","200",3,"ionChange"],["inputSearch",""],["slot","end","style","margin-right: 10px",3,"click",4,"ngIf"],["slot","end",2,"margin-right","10px",3,"click"],["slot","icon-only","name","close-outline"],[3,"name"],[1,"ion-text-wrap",2,"margin-left","12px"],["slot","end","fill","clear",3,"click"],["color","primary","slot","icon-only","name","create-outline"],["color","primary","slot","icon-only","name","trash-outline"],[1,"image-center"],["src","assets/ilustrations/list-clientes.png"]],template:function(t,i){1&t&&(l.Pb(0,"ion-header",0),l.Pb(1,"ion-toolbar",1),l.vc(2,b,2,0,"ion-buttons",2),l.vc(3,h,2,0,"ion-buttons",2),l.vc(4,u,2,1,"ion-title",3),l.vc(5,d,5,0,"ion-buttons",4),l.vc(6,g,6,1,"ion-buttons",5),l.Ob(),l.Ob(),l.Pb(7,"ion-content"),l.Pb(8,"ion-fab",6),l.Pb(9,"ion-fab-button",7),l.Xb("click",(function(){return i.novo()})),l.Kb(10,"ion-icon",8),l.Ob(),l.Ob(),l.Pb(11,"ion-list"),l.vc(12,m,12,3,"ion-item",9),l.Ob(),l.vc(13,p,6,1,"div",10),l.Ob()),2&t&&(l.ec("translucent",!0),l.yb(2),l.ec("ngIf",!i.isShowSearch),l.yb(1),l.ec("ngIf",!i.isShowSearch),l.yb(1),l.ec("ngIf",!i.isShowSearch),l.yb(1),l.ec("ngIf",!i.isShowSearch&&i.isEntities),l.yb(1),l.ec("ngIf",i.isShowSearch),l.yb(6),l.ec("ngForOf",i.getEntities()),l.yb(1),l.ec("ngIf",!i.isEntities))},directives:[o.o,o.H,n.j,o.k,o.l,o.m,o.p,o.t,n.i,o.g,o.d,o.e,o.v,o.G,o.f,o.q,o.P,o.r,o.s,o.F,o.y],encapsulation:2}),t})();const P=l.Rb(w),S=[{path:"",component:w}];let O=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(i){return new(i||t)},imports:[[c.i.forChild(S)],c.i]}),t})(),y=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(i){return new(i||t)},imports:[[n.b,s.e,o.I,O]]}),t})()}}]);