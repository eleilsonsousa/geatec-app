(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{FAKk:function(e,i,t){"use strict";t.r(i),t.d(i,"ClienteCadPageModule",(function(){return J}));var o=t("ofXK"),n=t("3Pt+"),s=t("TEn/"),a=t("tyNb"),c=t("mrSG"),l=t("N2L1");class r{constructor(){}static ValidaCpf(e){let i=e.value+"";if(i=i.split(".").join(""),i=i.split("-").join(""),i){let e,t,o,n,s,a;if(a=1,i.length<11)return{cpfNotValid:!0};for(n=0;n<i.length-1;n++)if(i.charAt(n)!==i.charAt(n+1)){a=0;break}if(a)return{cpfNotValid:!0};for(e=i.substring(0,9),t=i.substring(9),o=0,n=10;n>1;n--)o+=e.charAt(10-n)*n;if(s=o%11<2?0:11-o%11,s!==Number(t.charAt(0)))return{cpfNotValid:!0};for(e=i.substring(0,10),o=0,n=11;n>1;n--)o+=e.charAt(11-n)*n;return s=o%11<2?0:11-o%11,s!==Number(t.charAt(1))?{cpfNotValid:!0}:null}return null}}class b extends class{toObject(e){return Object.assign(e,this)}}{constructor(){super(...arguments),this.nome_length=100,this.endereco_length=150,this.cidade_length=30,this.uf_length=2,this.cep_length=10,this.cpf_length=14,this.cnpj_length=18,this.razaoSocial_length=100,this.fantasia_length=100,this.telefone_length=15,this.celular_length=15,this.email_length=100,this.complemento_length=100}}var u=t("fXoL"),m=t("l9pT");const d=["inputNome"],f=["inputRazaoSocial"];function h(e,i){if(1&e&&(u.Pb(0,"ion-segment-button",24),u.Kb(1,"ion-icon",25),u.Pb(2,"ion-label",26),u.xc(3),u.Ob(),u.Ob()),2&e){const e=u.Zb();u.yb(3),u.zc("",e.messages.cliente_cad_tab_pessoa_fisica_title," ")}}function p(e,i){if(1&e&&(u.Pb(0,"ion-segment-button",27),u.Kb(1,"ion-icon",28),u.Pb(2,"ion-label",26),u.xc(3),u.Ob(),u.Ob()),2&e){const e=u.Zb();u.yb(3),u.zc("",e.messages.cliente_cad_tab_pessoa_juridica_title," ")}}function g(e,i){if(1&e&&(u.Pb(0,"div",32),u.xc(1),u.Ob()),2&e){const e=u.Zb(2);u.yb(1),u.zc(" ",e.messages.field_required," ")}}function y(e,i){if(1&e&&(u.Pb(0,"div"),u.Pb(1,"ion-item",12),u.Pb(2,"ion-label",13),u.xc(3),u.Ob(),u.Kb(4,"ion-input",29,30),u.Ob(),u.vc(6,g,2,1,"div",31),u.Ob()),2&e){const e=u.Zb();u.yb(3),u.yc(e.messages.cliente_cad_field_label_nome),u.yb(1),u.zb("maxLength",e.entity.nome_length),u.yb(2),u.ec("ngIf",e.isSubmitted&&(null==e.errorControl.nome.errors?null:e.errorControl.nome.errors.required))}}function P(e,i){if(1&e&&(u.Pb(0,"div",32),u.xc(1),u.Ob()),2&e){const e=u.Zb(2);u.yb(1),u.zc(" ",e.messages.field_required," ")}}function _(e,i){if(1&e&&(u.Pb(0,"div"),u.Pb(1,"ion-item",12),u.Pb(2,"ion-label",13),u.xc(3),u.Ob(),u.Kb(4,"ion-input",33,34),u.Ob(),u.vc(6,P,2,1,"div",31),u.Ob()),2&e){const e=u.Zb();u.yb(3),u.yc(e.messages.cliente_cad_field_label_razao_social),u.yb(1),u.zb("maxLength",e.entity.razaoSocial_length),u.yb(2),u.ec("ngIf",e.isSubmitted&&(null==e.errorControl.razaoSocial.errors?null:e.errorControl.razaoSocial.errors.required))}}function O(e,i){if(1&e&&(u.Pb(0,"div",32),u.xc(1),u.Ob()),2&e){const e=u.Zb(2);u.yb(1),u.zc(" ",e.messages.cpf_invalid," ")}}function v(e,i){if(1&e&&(u.Pb(0,"ion-col"),u.Pb(1,"ion-item"),u.Pb(2,"ion-label",13),u.xc(3),u.Ob(),u.Kb(4,"ion-input",35),u.Ob(),u.vc(5,O,2,1,"div",31),u.Ob()),2&e){const e=u.Zb();u.yb(3),u.yc(e.messages.cliente_cad_field_label_cpf),u.yb(2),u.ec("ngIf",e.isSubmitted&&(null==e.errorControl.cpf.errors?null:e.errorControl.cpf.errors.cpfNotValid))}}function w(e,i){if(1&e&&(u.Pb(0,"div",32),u.xc(1),u.Ob()),2&e){const e=u.Zb(2);u.yb(1),u.zc(" ",e.messages.field_required," ")}}function V(e,i){if(1&e&&(u.Pb(0,"ion-col"),u.Pb(1,"ion-item"),u.Pb(2,"ion-label",13),u.xc(3),u.Ob(),u.Kb(4,"ion-input",36),u.Ob(),u.vc(5,w,2,1,"div",31),u.Ob()),2&e){const e=u.Zb();u.yb(3),u.yc(e.messages.cliente_cad_field_label_cnpj),u.yb(1),u.ec("clearIfNotMatch",!0),u.yb(1),u.ec("ngIf",e.isSubmitted&&(null==e.errorControl.cnpj.errors?null:e.errorControl.cnpj.errors.required))}}function z(e,i){if(1&e&&(u.Pb(0,"ion-row"),u.Pb(1,"ion-col"),u.Pb(2,"ion-item",12),u.Pb(3,"ion-label",13),u.xc(4),u.Ob(),u.Kb(5,"ion-input",37),u.Ob(),u.Ob(),u.Pb(6,"ion-col"),u.Pb(7,"ion-item",12),u.Pb(8,"ion-label",13),u.xc(9),u.Ob(),u.Kb(10,"ion-input",38),u.Ob(),u.Ob(),u.Ob()),2&e){const e=u.Zb();u.yb(4),u.zc("",e.messages.cliente_cad_field_label_fantasia," "),u.yb(1),u.zb("maxLength",e.entity.fantasia_length),u.yb(4),u.zc(" ",e.messages.cliente_cad_field_label_inscricao_estadual,""),u.yb(1),u.zb("maxLength",e.entity.inscricaoEstadual_length)}}function C(e,i){if(1&e&&(u.Pb(0,"ion-select-option",39),u.xc(1),u.Ob()),2&e){const e=i.$implicit;u.fc("value",e.uf),u.yb(1),u.zc(" ",e.uf," ")}}let x=(()=>{class e extends l.a{constructor(){super(...arguments),this.isPessoaJuridica=!1,this.isShowTabPessoaFisica=!0,this.isShowTabPessoaJuridica=!0}ngOnInit(){this.createFormFields()}ionViewWillEnter(){this.hideLoading()}ionViewDidEnter(){this.showFocus()}createFormFields(){this.isAlterCad()?(this.isPessoaJuridica=this.entity.isPessoaJuridica,this.isShowTabPessoaJuridica=this.isPessoaJuridica,this.isShowTabPessoaFisica=!this.isPessoaJuridica):this.entity=new b,this.form=new n.c({nome:new n.a(this.entity.nome,[n.m.required]),razaoSocial:new n.a(this.entity.razaoSocial,[n.m.required]),cpf:new n.a(this.entity.cpf,n.m.compose([n.m.required,r.ValidaCpf])),cnpj:new n.a(this.entity.cnpj,[n.m.required]),fantasia:new n.a(this.entity.fantasia),inscricaoEstadual:new n.a(this.entity.inscricaoEstadual),endereco:new n.a(this.entity.endereco),cidade:new n.a(this.entity.cidade),uf:new n.a(this.entity.uf),cep:new n.a(this.entity.cep),telefone:new n.a(this.entity.telefone),celular:new n.a(this.entity.celular),email:new n.a(this.entity.email),complemento:new n.a(this.entity.complemento),isPessoaJuridica:new n.a(this.isPessoaJuridica)})}submitForm(){return Object(c.a)(this,void 0,void 0,(function*(){this.configValidations(),this.validForm()&&(this.showLoading(),this.entity.isPessoaJuridica=this.isPessoaJuridica,this.clearEntity(),this.clienteController.salvarOuAlterar(this.entity).subscribe(e=>{this.entity.id||(this.entity.id=e.id),this.messageController.showMessageToast(this.messages.dialogs_register_save),this.navigatePostParams("cliente-list",this.entity,this.entityIndex),this.hideLoading()}))}))}selectUf(e){}selectTipoPessoa(e){this.isPessoaJuridica=!this.isPessoaJuridica,this.showFocus()}showFocus(){this.isPessoaJuridica?setTimeout(()=>this.inputRazaoSocial.setFocus(),400):setTimeout(()=>this.inputNome.setFocus(),400)}clearFields(){return Object(c.a)(this,void 0,void 0,(function*(){this.isPessoaJuridica?(this.form.get("nome").setValue(""),this.form.get("cpf").setValue("")):(this.form.get("razaoSocial").setValue(""),this.form.get("fantasia").setValue(""),this.form.get("inscricaoEstadual").setValue(""),this.form.get("cnpj").setValue(""))}))}clearEntity(){return Object(c.a)(this,void 0,void 0,(function*(){this.isPessoaJuridica?(this.entity.nome=null,this.entity.cpf=null):(this.entity.razaoSocial=null,this.entity.fantasia=null,this.entity.inscricaoEstadual=null,this.entity.cnpj=null)}))}configValidations(){this.isPessoaJuridica?(this.form.get("razaoSocial").setValidators(n.m.compose([n.m.required])),this.form.get("cnpj").setValidators(n.m.compose([n.m.required])),this.form.get("nome").clearValidators(),this.form.get("cpf").clearValidators(),this.form.get("nome").updateValueAndValidity(),this.form.get("razaoSocial").updateValueAndValidity(),this.form.get("cpf").updateValueAndValidity(),this.form.get("cnpj").updateValueAndValidity()):(this.form.get("nome").setValidators(n.m.compose([n.m.required])),this.form.get("cpf").setValidators(n.m.compose([n.m.required,r.ValidaCpf])),this.form.get("razaoSocial").clearValidators(),this.form.get("cnpj").clearValidators(),this.form.get("nome").updateValueAndValidity(),this.form.get("razaoSocial").updateValueAndValidity(),this.form.get("cpf").updateValueAndValidity(),this.form.get("cnpj").updateValueAndValidity())}}return e.\u0275fac=function(i){return N(i||e)},e.\u0275cmp=u.Db({type:e,selectors:[["app-cliente-cad"]],viewQuery:function(e,i){var t;1&e&&(u.Bc(d,!0),u.Bc(f,!0)),2&e&&(u.oc(t=u.Yb())&&(i.inputNome=t.first),u.oc(t=u.Yb())&&(i.inputRazaoSocial=t.first))},features:[u.vb],decls:71,vars:24,consts:[[3,"translucent"],["color","primary"],["slot","start"],["slot","end"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","checkmark"],["padding",""],[3,"formGroup","ngSubmit"],["formControlName","isPessoaJuridica",3,"ionChange"],["value","false",4,"ngIf"],["value","true",4,"ngIf"],[4,"ngIf"],["lines","full"],["position","floating"],["formControlName","endereco"],["formControlName","cidade"],["size","3"],["formControlName","uf"],[3,"value",4,"ngFor","ngForOf"],["formControlName","cep","simpleMask","99.999-999",3,"clearIfNotMatch"],["formControlName","complemento"],["formControlName","telefone","simpleMask","(99) 99999-9999"],["formControlName","celular","simpleMask","(99) 99999-9999"],["formControlName","email"],["value","false"],["name","person"],[1,"text-no-transformer"],["value","true"],["name","business"],["formControlName","nome"],["inputNome",""],["class","error-message",4,"ngIf"],[1,"error-message"],["formControlName","razaoSocial"],["inputRazaoSocial",""],["formControlName","cpf","simpleMask","999.999.999-99",1,"uppercase"],["formControlName","cnpj","simpleMask","99.999.999/9999-99",1,"uppercase",3,"clearIfNotMatch"],["formControlName","fantasia"],["formControlName","inscricaoEstadual"],[3,"value"]],template:function(e,i){1&e&&(u.Pb(0,"ion-header",0),u.Pb(1,"ion-toolbar",1),u.Pb(2,"ion-buttons",2),u.Kb(3,"ion-back-button"),u.Ob(),u.Pb(4,"ion-buttons",2),u.Kb(5,"ion-menu-button"),u.Ob(),u.Pb(6,"ion-title"),u.xc(7),u.Ob(),u.Pb(8,"ion-buttons",3),u.Pb(9,"ion-button",4),u.Xb("click",(function(){return i.submitForm()})),u.Kb(10,"ion-icon",5),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(11,"ion-content",6),u.Pb(12,"form",7),u.Xb("ngSubmit",(function(){return i.submitForm()})),u.Pb(13,"ion-row"),u.Pb(14,"ion-col"),u.Pb(15,"ion-segment",8),u.Xb("ionChange",(function(e){return i.selectTipoPessoa(e)})),u.vc(16,h,4,1,"ion-segment-button",9),u.vc(17,p,4,1,"ion-segment-button",10),u.Ob(),u.Ob(),u.Ob(),u.Pb(18,"ion-row"),u.Pb(19,"ion-col"),u.vc(20,y,7,3,"div",11),u.vc(21,_,7,3,"div",11),u.Ob(),u.vc(22,v,6,2,"ion-col",11),u.vc(23,V,6,3,"ion-col",11),u.Ob(),u.vc(24,z,11,4,"ion-row",11),u.Pb(25,"ion-row"),u.Pb(26,"ion-col"),u.Pb(27,"ion-item",12),u.Pb(28,"ion-label",13),u.xc(29),u.Ob(),u.Kb(30,"ion-input",14),u.Ob(),u.Ob(),u.Pb(31,"ion-col"),u.Pb(32,"ion-item",12),u.Pb(33,"ion-label",13),u.xc(34),u.Ob(),u.Kb(35,"ion-input",15),u.Ob(),u.Ob(),u.Ob(),u.Pb(36,"ion-row"),u.Pb(37,"ion-col",16),u.Pb(38,"ion-item",12),u.Pb(39,"ion-label",13),u.xc(40),u.Ob(),u.Pb(41,"ion-select",17),u.vc(42,C,2,2,"ion-select-option",18),u.Ob(),u.Ob(),u.Ob(),u.Pb(43,"ion-col"),u.Pb(44,"ion-item"),u.Pb(45,"ion-label",13),u.xc(46),u.Ob(),u.Kb(47,"ion-input",19),u.Ob(),u.Ob(),u.Ob(),u.Pb(48,"ion-row"),u.Pb(49,"ion-col"),u.Pb(50,"ion-item",12),u.Pb(51,"ion-label",13),u.xc(52),u.Ob(),u.Kb(53,"ion-input",20),u.Ob(),u.Ob(),u.Ob(),u.Pb(54,"ion-row"),u.Pb(55,"ion-col"),u.Pb(56,"ion-item",12),u.Pb(57,"ion-label",13),u.xc(58),u.Ob(),u.Kb(59,"ion-input",21),u.Ob(),u.Ob(),u.Pb(60,"ion-col"),u.Pb(61,"ion-item"),u.Pb(62,"ion-label",13),u.xc(63),u.Ob(),u.Kb(64,"ion-input",22),u.Ob(),u.Ob(),u.Ob(),u.Pb(65,"ion-row"),u.Pb(66,"ion-col"),u.Pb(67,"ion-item",12),u.Pb(68,"ion-label",13),u.xc(69),u.Ob(),u.Kb(70,"ion-input",23),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&e&&(u.ec("translucent",!0),u.yb(7),u.yc(i.messages.cliente_cad_title),u.yb(5),u.ec("formGroup",i.form),u.yb(4),u.ec("ngIf",i.isShowTabPessoaFisica),u.yb(1),u.ec("ngIf",i.isShowTabPessoaJuridica),u.yb(3),u.ec("ngIf",!i.isPessoaJuridica),u.yb(1),u.ec("ngIf",i.isPessoaJuridica),u.yb(1),u.ec("ngIf",!i.isPessoaJuridica),u.yb(1),u.ec("ngIf",i.isPessoaJuridica),u.yb(1),u.ec("ngIf",i.isPessoaJuridica),u.yb(5),u.zc("",i.messages.cliente_cad_field_label_endereco," "),u.yb(1),u.zb("maxLength",i.entity.endereco_length),u.yb(4),u.zc("",i.messages.cliente_cad_field_label_cidade," "),u.yb(1),u.zb("maxLength",i.entity.cidade_length),u.yb(5),u.yc(i.messages.cliente_cad_field_label_uf),u.yb(2),u.ec("ngForOf",i.listUf),u.yb(4),u.yc(i.messages.cliente_cad_field_label_cep),u.yb(1),u.ec("clearIfNotMatch",!0),u.yb(5),u.yc(i.messages.cliente_cad_field_label_complemento),u.yb(1),u.zb("maxLength",i.entity.complemento_length),u.yb(5),u.yc(i.messages.cliente_cad_field_label_telefone),u.yb(5),u.yc(i.messages.cliente_cad_field_label_celular),u.yb(6),u.yc(i.messages.cliente_cad_field_label_email),u.yb(1),u.zb("maxLength",i.entity.email_length))},directives:[s.o,s.H,s.g,s.d,s.e,s.v,s.G,s.f,s.p,s.k,n.n,n.j,n.d,s.y,s.j,s.A,s.O,n.i,n.b,o.j,s.r,s.s,s.q,s.P,s.C,o.i,m.a,s.B,s.D],encapsulation:2}),e})();const N=u.Rb(x),S=[{path:"",component:x}];let j=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(i){return new(i||e)},imports:[[a.i.forChild(S)],a.i]}),e})(),J=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(i){return new(i||e)},imports:[[o.b,n.e,s.I,j,n.l,m.b]]}),e})()}}]);