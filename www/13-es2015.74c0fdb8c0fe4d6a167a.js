(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{yLSW:function(t,i,e){"use strict";e.r(i),e.d(i,"UnidadeCadPageModule",(function(){return O}));var o=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),a=e("mrSG"),l=e("fXoL"),c=e("EI5w"),b=e("5rZ2"),u=e("rw78");const d=["autofocus"];let m=(()=>{class t{constructor(t,i,e,o,n,r){this.unidadeController=t,this.navCtrl=i,this.router=e,this.messageController=o,this.routerActive=n,this.loadingController=r,this.entity={},this.isSubmitted=!1,this.navigateGetParams()}ionViewWillEnter(){setTimeout(()=>this.autofocuInputs.setFocus(),300)}get errorControl(){return this.form.controls}validForm(){if(this.isSubmitted=!0,this.form.valid){const t=this.entity.id;return this.entity=this.form.value,this.entity.id=t,!0}return!1}navigatePostParams(t,i,e){this.router.navigate(["/"+t],{state:{postParams:{entity:i,index:e}}})}navigateGetParams(){this.routerActive.params.subscribe(t=>{let i=this.router.getCurrentNavigation();if(i.extras.state){const t=i.extras.state.postParams;this.entity=t.entity,this.entityIndex=t.index}})}showLoading(){return this.loadingController.showLoading("Aguarde, por favor...")}hideLoading(){return Object(a.a)(this,void 0,void 0,(function*(){yield this.loadingController.hideLoading()}))}}return t.\u0275fac=function(i){return new(i||t)(l.Ib(c.a),l.Ib(r.J),l.Ib(s.g),l.Ib(b.a),l.Ib(s.a),l.Ib(u.a))},t.\u0275cmp=l.Cb({type:t,selectors:[["app-generic-cad"]],viewQuery:function(t,i){var e;1&t&&l.qc(d,!0),2&t&&l.gc(e=l.Xb())&&(i.autofocuInputs=e.first)},decls:5,vars:0,template:function(t,i){1&t&&(l.Ob(0,"ion-header"),l.Ob(1,"ion-toolbar"),l.Ob(2,"ion-title"),l.mc(3,"generic-cad"),l.Nb(),l.Nb(),l.Nb(),l.Jb(4,"ion-content"))},directives:[r.n,r.E,r.D,r.j],encapsulation:2}),t})();function h(t,i){1&t&&(l.Ob(0,"div",14),l.mc(1," * campo obrigat\xf3rio "),l.Nb())}function f(t,i){1&t&&(l.Ob(0,"div",14),l.mc(1," * campo obrigat\xf3rio "),l.Nb())}let g=(()=>{class t extends m{ngOnInit(){this.createFormFields()}createFormFields(){this.form=new n.c({nome:new n.a(this.entity.nome,[n.m.required]),sigla:new n.a(this.entity.sigla,[n.m.required]),descricao:new n.a(this.entity.descricao)})}submitForm(){return Object(a.a)(this,void 0,void 0,(function*(){if(this.validForm()){this.showLoading();let t=this.entity;t.sigla=t.sigla.toUpperCase(),this.unidadeController.salvarOuAlterar(t).subscribe(t=>{this.entity.id||(this.entity.id=t.id),this.messageController.showMessageToast("Registro salvo"),this.navigatePostParams("unidade-list",this.entity,this.entityIndex),this.hideLoading()})}}))}}return t.\u0275fac=function(i){return p(i||t)},t.\u0275cmp=l.Cb({type:t,selectors:[["app-unidade-cad"]],features:[l.ub],decls:31,vars:5,consts:[[3,"translucent"],["slot","start"],["slot","end"],["slot","end","fill","clear",3,"click"],["color","primary","slot","icon-only","name","checkmark"],[3,"fullscreen"],[3,"formGroup","ngSubmit"],["lines","full"],["position","floating"],["formControlName","nome","maxlength","20"],["autofocus",""],["class","error-message",4,"ngIf"],["autocapitalize","words","formControlName","sigla","maxlength","5",1,"upper-case"],["formControlName","descricao","maxlength","80"],[1,"error-message"]],template:function(t,i){1&t&&(l.Ob(0,"ion-header",0),l.Ob(1,"ion-toolbar"),l.Ob(2,"ion-buttons",1),l.Jb(3,"ion-back-button"),l.Nb(),l.Ob(4,"ion-title"),l.mc(5,"Unidade"),l.Nb(),l.Ob(6,"ion-buttons",2),l.Ob(7,"ion-button",3),l.Wb("click",(function(){return i.submitForm()})),l.Jb(8,"ion-icon",4),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(9,"ion-content",5),l.Ob(10,"form",6),l.Wb("ngSubmit",(function(){return i.submitForm()})),l.Ob(11,"ion-row"),l.Ob(12,"ion-col"),l.Ob(13,"ion-item",7),l.Ob(14,"ion-label",8),l.mc(15,"Nome"),l.Nb(),l.Jb(16,"ion-input",9,10),l.Nb(),l.lc(18,h,2,0,"div",11),l.Nb(),l.Ob(19,"ion-col"),l.Ob(20,"ion-item"),l.Ob(21,"ion-label",8),l.mc(22,"Sigla"),l.Nb(),l.Jb(23,"ion-input",12),l.Nb(),l.lc(24,f,2,0,"div",11),l.Nb(),l.Nb(),l.Ob(25,"ion-row"),l.Ob(26,"ion-col"),l.Ob(27,"ion-item",7),l.Ob(28,"ion-label",8),l.mc(29,"Descri\xe7\xe3o"),l.Nb(),l.Jb(30,"ion-input",13),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&t&&(l.bc("translucent",!0),l.xb(9),l.bc("fullscreen",!0),l.xb(1),l.bc("formGroup",i.form),l.xb(8),l.bc("ngIf",i.isSubmitted&&(null==i.errorControl.nome.errors?null:i.errorControl.nome.errors.required)),l.xb(6),l.bc("ngIf",i.isSubmitted&&(null==i.errorControl.sigla.errors?null:i.errorControl.sigla.errors.required)))},directives:[r.n,r.E,r.f,r.c,r.d,r.D,r.e,r.o,r.j,n.n,n.j,n.d,r.z,r.i,r.q,r.r,r.p,r.M,n.i,n.b,n.f,o.j],encapsulation:2}),t})();const p=l.Qb(g),v=[{path:"",component:g}];let N=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(v)],s.i]}),t})();var y=e("l9pT");let O=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(i){return new(i||t)},imports:[[o.b,n.e,r.G,N,n.l,y.a]]}),t})()}}]);