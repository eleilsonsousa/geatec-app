(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{yLSW:function(t,i,e){"use strict";e.r(i),e.d(i,"UnidadeCadPageModule",(function(){return w}));var o=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),a=e("bb6g"),l=e("fXoL"),c=e("EI5w"),b=e("5rZ2"),u=e("rw78");const d=["autofocus"];let m=(()=>{class t{constructor(t,i,e,o,n,r){this.unidadeController=t,this.navCtrl=i,this.router=e,this.messageController=o,this.routerActive=n,this.loadingController=r,this.entity={},this.isSubmitted=!1,this.navigateGetParams()}ionViewWillEnter(){setTimeout(()=>this.autofocuInputs.setFocus(),300)}get errorControl(){return this.form.controls}validForm(){if(this.isSubmitted=!0,this.form.valid){const t=this.entity.id;return this.entity=this.form.value,this.entity.id=t,!0}return!1}navigatePostParams(t,i,e){this.router.navigate(["/"+t],{state:{postParams:{entity:i,index:e}}})}navigateGetParams(){this.routerActive.params.subscribe(t=>{let i=this.router.getCurrentNavigation();if(i.extras.state){const t=i.extras.state.postParams;this.entity=t.entity,this.entityIndex=t.index}})}showLoading(){return this.loadingController.showLoading("Aguarde, por favor...")}hideLoading(){return Object(a.a)(this,void 0,void 0,(function*(){yield this.loadingController.hideLoading()}))}}return t.\u0275fac=function(i){return new(i||t)(l.Jb(c.a),l.Jb(r.J),l.Jb(s.g),l.Jb(b.a),l.Jb(s.a),l.Jb(u.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-generic-cad"]],viewQuery:function(t,i){var e;1&t&&l.Ac(d,!0),2&t&&l.nc(e=l.Yb())&&(i.autofocuInputs=e.first)},decls:5,vars:0,template:function(t,i){1&t&&(l.Pb(0,"ion-header"),l.Pb(1,"ion-toolbar"),l.Pb(2,"ion-title"),l.wc(3,"generic-cad"),l.Ob(),l.Ob(),l.Ob(),l.Kb(4,"ion-content"))},directives:[r.n,r.E,r.D,r.j],encapsulation:2}),t})();function h(t,i){1&t&&(l.Pb(0,"div",14),l.wc(1," * campo obrigat\xf3rio "),l.Ob())}function f(t,i){1&t&&(l.Pb(0,"div",14),l.wc(1," * campo obrigat\xf3rio "),l.Ob())}let g=(()=>{class t extends m{ngOnInit(){this.createFormFields()}createFormFields(){this.form=new n.c({nome:new n.a(this.entity.nome,[n.m.required]),sigla:new n.a(this.entity.sigla,[n.m.required]),descricao:new n.a(this.entity.descricao)})}submitForm(){return Object(a.a)(this,void 0,void 0,(function*(){if(this.validForm()){this.showLoading();let t=this.entity;t.sigla=t.sigla.toUpperCase(),this.unidadeController.salvarOuAlterar(t).subscribe(t=>{this.entity.id||(this.entity.id=t.id),this.messageController.showMessageToast("Registro salvo"),this.navigatePostParams("unidade-list",this.entity,this.entityIndex),this.hideLoading()})}}))}}return t.\u0275fac=function(i){return p(i||t)},t.\u0275cmp=l.Db({type:t,selectors:[["app-unidade-cad"]],features:[l.vb],decls:31,vars:5,consts:[[3,"translucent"],["slot","start"],["slot","end"],["slot","end","fill","clear",3,"click"],["color","primary","slot","icon-only","name","checkmark"],[3,"fullscreen"],[3,"formGroup","ngSubmit"],["lines","full"],["position","floating"],["formControlName","nome","maxlength","20"],["autofocus",""],["class","error-message",4,"ngIf"],["autocapitalize","words","formControlName","sigla","maxlength","5",1,"upper-case"],["formControlName","descricao","maxlength","80"],[1,"error-message"]],template:function(t,i){1&t&&(l.Pb(0,"ion-header",0),l.Pb(1,"ion-toolbar"),l.Pb(2,"ion-buttons",1),l.Kb(3,"ion-back-button"),l.Ob(),l.Pb(4,"ion-title"),l.wc(5,"Unidade"),l.Ob(),l.Pb(6,"ion-buttons",2),l.Pb(7,"ion-button",3),l.Xb("click",(function(){return i.submitForm()})),l.Kb(8,"ion-icon",4),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(9,"ion-content",5),l.Pb(10,"form",6),l.Xb("ngSubmit",(function(){return i.submitForm()})),l.Pb(11,"ion-row"),l.Pb(12,"ion-col"),l.Pb(13,"ion-item",7),l.Pb(14,"ion-label",8),l.wc(15,"Nome"),l.Ob(),l.Kb(16,"ion-input",9,10),l.Ob(),l.uc(18,h,2,0,"div",11),l.Ob(),l.Pb(19,"ion-col"),l.Pb(20,"ion-item"),l.Pb(21,"ion-label",8),l.wc(22,"Sigla"),l.Ob(),l.Kb(23,"ion-input",12),l.Ob(),l.uc(24,f,2,0,"div",11),l.Ob(),l.Ob(),l.Pb(25,"ion-row"),l.Pb(26,"ion-col"),l.Pb(27,"ion-item",7),l.Pb(28,"ion-label",8),l.wc(29,"Descri\xe7\xe3o"),l.Ob(),l.Kb(30,"ion-input",13),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&t&&(l.ec("translucent",!0),l.yb(9),l.ec("fullscreen",!0),l.yb(1),l.ec("formGroup",i.form),l.yb(8),l.ec("ngIf",i.isSubmitted&&(null==i.errorControl.nome.errors?null:i.errorControl.nome.errors.required)),l.yb(6),l.ec("ngIf",i.isSubmitted&&(null==i.errorControl.sigla.errors?null:i.errorControl.sigla.errors.required)))},directives:[r.n,r.E,r.f,r.c,r.d,r.D,r.e,r.o,r.j,n.n,n.j,n.d,r.z,r.i,r.q,r.r,r.p,r.M,n.i,n.b,n.f,o.j],encapsulation:2}),t})();const p=l.Rb(g),P=[{path:"",component:g}];let v=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(P)],s.i]}),t})();var y=e("l9pT");let w=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(i){return new(i||t)},imports:[[o.b,n.e,r.G,v,n.l,y.a]]}),t})()}}]);