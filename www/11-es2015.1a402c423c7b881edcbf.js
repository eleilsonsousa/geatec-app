(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{FAKk:function(i,e,t){"use strict";t.r(e),t.d(e,"ClienteCadPageModule",(function(){return j}));var n=t("ofXK"),o=t("3Pt+"),s=t("TEn/"),a=t("tyNb"),c=t("bb6g"),l=t("N2L1");class b{constructor(){}static ValidaCpf(i){let e=i.value+"";if(e=e.split(".").join(""),e=e.split("-").join(""),e){let i,t,n,o,s,a;if(a=1,e.length<11)return{cpfNotValid:!0};for(o=0;o<e.length-1;o++)if(e.charAt(o)!==e.charAt(o+1)){a=0;break}if(a)return{cpfNotValid:!0};for(i=e.substring(0,9),t=e.substring(9),n=0,o=10;o>1;o--)n+=i.charAt(10-o)*o;if(s=n%11<2?0:11-n%11,s!==Number(t.charAt(0)))return{cpfNotValid:!0};for(i=e.substring(0,10),n=0,o=11;o>1;o--)n+=i.charAt(11-o)*o;return s=n%11<2?0:11-n%11,s!==Number(t.charAt(1))?{cpfNotValid:!0}:null}return null}}var r=t("8L5w");class u extends r.a{constructor(){super(...arguments),this.nome_length=100,this.endereco_length=150,this.cidade_length=30,this.uf_length=2,this.cep_length=10,this.cpf_length=14,this.cnpj_length=18,this.razaoSocial_length=100,this.fantasia_length=100,this.telefone_length=15,this.celular_length=15,this.email_length=100,this.complemento_length=100}}var d=t("fXoL"),f=t("l9pT");const m=["inputNome"],h=["inputRazaoSocial"];function g(i,e){if(1&i&&(d.Kb(0,"ion-segment-button",24),d.Ib(1,"ion-icon",25),d.Kb(2,"ion-label",26),d.gc(3),d.Jb(),d.Jb()),2&i){const i=d.Ub();d.xb(3),d.ic("",i.messages.cliente_cad_tab_pessoa_fisica_title," ")}}function p(i,e){if(1&i&&(d.Kb(0,"ion-segment-button",27),d.Ib(1,"ion-icon",28),d.Kb(2,"ion-label",26),d.gc(3),d.Jb(),d.Jb()),2&i){const i=d.Ub();d.xb(3),d.ic("",i.messages.cliente_cad_tab_pessoa_juridica_title," ")}}function J(i,e){if(1&i&&(d.Kb(0,"div",32),d.gc(1),d.Jb()),2&i){const i=d.Ub(2);d.xb(1),d.ic(" ",i.messages.field_required," ")}}function _(i,e){if(1&i&&(d.Kb(0,"div"),d.Kb(1,"ion-item",12),d.Kb(2,"ion-label",13),d.gc(3),d.Jb(),d.Ib(4,"ion-input",29,30),d.Jb(),d.fc(6,J,2,1,"div",31),d.Jb()),2&i){const i=d.Ub();d.xb(3),d.hc(i.messages.cliente_cad_field_label_nome),d.xb(1),d.yb("maxLength",i.entity.nome_length),d.xb(2),d.Xb("ngIf",i.isSubmitted&&(null==i.errorControl.nome.errors?null:i.errorControl.nome.errors.required))}}function K(i,e){if(1&i&&(d.Kb(0,"div",32),d.gc(1),d.Jb()),2&i){const i=d.Ub(2);d.xb(1),d.ic(" ",i.messages.field_required," ")}}function x(i,e){if(1&i&&(d.Kb(0,"div"),d.Kb(1,"ion-item",12),d.Kb(2,"ion-label",13),d.gc(3),d.Jb(),d.Ib(4,"ion-input",33,34),d.Jb(),d.fc(6,K,2,1,"div",31),d.Jb()),2&i){const i=d.Ub();d.xb(3),d.hc(i.messages.cliente_cad_field_label_razao_social),d.xb(1),d.yb("maxLength",i.entity.razaoSocial_length),d.xb(2),d.Xb("ngIf",i.isSubmitted&&(null==i.errorControl.razaoSocial.errors?null:i.errorControl.razaoSocial.errors.required))}}function y(i,e){if(1&i&&(d.Kb(0,"div",32),d.gc(1),d.Jb()),2&i){const i=d.Ub(2);d.xb(1),d.ic(" ",i.messages.cpf_invalid," ")}}function w(i,e){if(1&i&&(d.Kb(0,"ion-col"),d.Kb(1,"ion-item"),d.Kb(2,"ion-label",13),d.gc(3),d.Jb(),d.Ib(4,"ion-input",35),d.Jb(),d.fc(5,y,2,1,"div",31),d.Jb()),2&i){const i=d.Ub();d.xb(3),d.hc(i.messages.cliente_cad_field_label_cpf),d.xb(2),d.Xb("ngIf",i.isSubmitted&&(null==i.errorControl.cpf.errors?null:i.errorControl.cpf.errors.cpfNotValid))}}function v(i,e){if(1&i&&(d.Kb(0,"div",32),d.gc(1),d.Jb()),2&i){const i=d.Ub(2);d.xb(1),d.ic(" ",i.messages.field_required," ")}}function I(i,e){if(1&i&&(d.Kb(0,"ion-col"),d.Kb(1,"ion-item"),d.Kb(2,"ion-label",13),d.gc(3),d.Jb(),d.Ib(4,"ion-input",36),d.Jb(),d.fc(5,v,2,1,"div",31),d.Jb()),2&i){const i=d.Ub();d.xb(3),d.hc(i.messages.cliente_cad_field_label_cnpj),d.xb(1),d.Xb("clearIfNotMatch",!0),d.xb(1),d.Xb("ngIf",i.isSubmitted&&(null==i.errorControl.cnpj.errors?null:i.errorControl.cnpj.errors.required))}}function C(i,e){if(1&i&&(d.Kb(0,"ion-row"),d.Kb(1,"ion-col"),d.Kb(2,"ion-item",12),d.Kb(3,"ion-label",13),d.gc(4),d.Jb(),d.Ib(5,"ion-input",37),d.Jb(),d.Jb(),d.Kb(6,"ion-col"),d.Kb(7,"ion-item",12),d.Kb(8,"ion-label",13),d.gc(9),d.Jb(),d.Ib(10,"ion-input",38),d.Jb(),d.Jb(),d.Jb()),2&i){const i=d.Ub();d.xb(4),d.ic("",i.messages.cliente_cad_field_label_fantasia," "),d.xb(1),d.yb("maxLength",i.entity.fantasia_length),d.xb(4),d.ic(" ",i.messages.cliente_cad_field_label_inscricao_estadual,""),d.xb(1),d.yb("maxLength",i.entity.inscricaoEstadual_length)}}function N(i,e){if(1&i&&(d.Kb(0,"ion-select-option",39),d.gc(1),d.Jb()),2&i){const i=e.$implicit;d.Yb("value",i.uf),d.xb(1),d.ic(" ",i.uf," ")}}let P=(()=>{class i extends l.a{constructor(){super(...arguments),this.isPessoaJuridica=!1,this.isShowTabPessoaFisica=!0,this.isShowTabPessoaJuridica=!0}ngOnInit(){this.createFormFields()}ionViewWillEnter(){this.hideLoading(),this.initForm()}ionViewDidEnter(){this.showFocus()}initForm(){this.isAlterCad()?(this.isPessoaJuridica=this.entity.isPessoaJuridica,this.isShowTabPessoaJuridica=this.isPessoaJuridica,this.isShowTabPessoaFisica=!this.isPessoaJuridica):this.entity=new u}createFormFields(){this.form=new o.c({nome:new o.a(this.entity.nome,[o.k.required]),razaoSocial:new o.a(this.entity.razaoSocial,[o.k.required]),cpf:new o.a(this.entity.cpf,o.k.compose([o.k.required,b.ValidaCpf])),cnpj:new o.a(this.entity.cnpj,[o.k.required]),fantasia:new o.a(this.entity.fantasia),inscricaoEstadual:new o.a(this.entity.inscricaoEstadual),endereco:new o.a(this.entity.endereco),cidade:new o.a(this.entity.cidade),uf:new o.a(this.entity.uf),cep:new o.a(this.entity.cep),telefone:new o.a(this.entity.telefone),celular:new o.a(this.entity.celular),email:new o.a(this.entity.email),complemento:new o.a(this.entity.complemento),isPessoaJuridica:new o.a(this.isPessoaJuridica)})}submitForm(){return Object(c.a)(this,void 0,void 0,(function*(){this.configValidations(),this.validForm()&&(this.showLoading(),this.entity.isPessoaJuridica=this.isPessoaJuridica,this.clearEntity(),this.clienteController.salvarOuAlterar(this.entity).subscribe(i=>{this.entity.id||(this.entity.id=i.id),this.messageController.showMessageToast(this.messages.dialogs_register_save),this.navigatePostParams("cliente-list",this.entity,this.entityIndex),this.hideLoading()}))}))}selectTipoPessoa(i){this.isPessoaJuridica=!this.isPessoaJuridica,this.showFocus()}showFocus(){this.isPessoaJuridica?setTimeout(()=>this.inputRazaoSocial.setFocus(),400):setTimeout(()=>this.inputNome.setFocus(),400)}clearEntity(){return Object(c.a)(this,void 0,void 0,(function*(){this.isPessoaJuridica?(this.entity.nome=null,this.entity.cpf=null):(this.entity.razaoSocial=null,this.entity.fantasia=null,this.entity.inscricaoEstadual=null,this.entity.cnpj=null)}))}configValidations(){this.isPessoaJuridica?(this.addValidation("razaoSocial",o.k.compose([o.k.required])),this.addValidation("cnpj",o.k.compose([o.k.required])),this.removeValidation("nome"),this.removeValidation("cpf")):(this.addValidation("nome",o.k.compose([o.k.required])),this.addValidation("cpf",o.k.compose([o.k.required,b.ValidaCpf])),this.removeValidation("razaoSocial"),this.removeValidation("cnpj"))}}return i.\u0275fac=function(e){return S(e||i)},i.\u0275cmp=d.Bb({type:i,selectors:[["app-cliente-cad"]],viewQuery:function(i,e){var t;1&i&&(d.jc(m,!0),d.jc(h,!0)),2&i&&(d.bc(t=d.Tb())&&(e.inputNome=t.first),d.bc(t=d.Tb())&&(e.inputRazaoSocial=t.first))},features:[d.ub],decls:71,vars:24,consts:[[3,"translucent"],["color","primary"],["slot","start"],["slot","end"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","checkmark"],["padding",""],[3,"formGroup","ngSubmit"],["formControlName","isPessoaJuridica",3,"ionChange"],["value","false",4,"ngIf"],["value","true",4,"ngIf"],[4,"ngIf"],["lines","full"],["position","floating"],["formControlName","endereco"],["formControlName","cidade"],["size","3"],["formControlName","uf"],[3,"value",4,"ngFor","ngForOf"],["formControlName","cep","simpleMask","99.999-999",3,"clearIfNotMatch"],["formControlName","complemento"],["formControlName","telefone","simpleMask","(99) 99999-9999"],["formControlName","celular","simpleMask","(99) 99999-9999"],["formControlName","email"],["value","false"],["name","person"],[1,"text-no-transformer"],["value","true"],["name","business"],["formControlName","nome"],["inputNome",""],["class","error-message",4,"ngIf"],[1,"error-message"],["formControlName","razaoSocial"],["inputRazaoSocial",""],["formControlName","cpf","simpleMask","999.999.999-99",1,"uppercase"],["formControlName","cnpj","simpleMask","99.999.999/9999-99",1,"uppercase",3,"clearIfNotMatch"],["formControlName","fantasia"],["formControlName","inscricaoEstadual"],[3,"value"]],template:function(i,e){1&i&&(d.Kb(0,"ion-header",0),d.Kb(1,"ion-toolbar",1),d.Kb(2,"ion-buttons",2),d.Ib(3,"ion-back-button"),d.Jb(),d.Kb(4,"ion-buttons",2),d.Ib(5,"ion-menu-button"),d.Jb(),d.Kb(6,"ion-title"),d.gc(7),d.Jb(),d.Kb(8,"ion-buttons",3),d.Kb(9,"ion-button",4),d.Sb("click",(function(){return e.submitForm()})),d.Ib(10,"ion-icon",5),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(11,"ion-content",6),d.Kb(12,"form",7),d.Sb("ngSubmit",(function(){return e.submitForm()})),d.Kb(13,"ion-row"),d.Kb(14,"ion-col"),d.Kb(15,"ion-segment",8),d.Sb("ionChange",(function(i){return e.selectTipoPessoa(i)})),d.fc(16,g,4,1,"ion-segment-button",9),d.fc(17,p,4,1,"ion-segment-button",10),d.Jb(),d.Jb(),d.Jb(),d.Kb(18,"ion-row"),d.Kb(19,"ion-col"),d.fc(20,_,7,3,"div",11),d.fc(21,x,7,3,"div",11),d.Jb(),d.fc(22,w,6,2,"ion-col",11),d.fc(23,I,6,3,"ion-col",11),d.Jb(),d.fc(24,C,11,4,"ion-row",11),d.Kb(25,"ion-row"),d.Kb(26,"ion-col"),d.Kb(27,"ion-item",12),d.Kb(28,"ion-label",13),d.gc(29),d.Jb(),d.Ib(30,"ion-input",14),d.Jb(),d.Jb(),d.Kb(31,"ion-col"),d.Kb(32,"ion-item",12),d.Kb(33,"ion-label",13),d.gc(34),d.Jb(),d.Ib(35,"ion-input",15),d.Jb(),d.Jb(),d.Jb(),d.Kb(36,"ion-row"),d.Kb(37,"ion-col",16),d.Kb(38,"ion-item",12),d.Kb(39,"ion-label",13),d.gc(40),d.Jb(),d.Kb(41,"ion-select",17),d.fc(42,N,2,2,"ion-select-option",18),d.Jb(),d.Jb(),d.Jb(),d.Kb(43,"ion-col"),d.Kb(44,"ion-item"),d.Kb(45,"ion-label",13),d.gc(46),d.Jb(),d.Ib(47,"ion-input",19),d.Jb(),d.Jb(),d.Jb(),d.Kb(48,"ion-row"),d.Kb(49,"ion-col"),d.Kb(50,"ion-item",12),d.Kb(51,"ion-label",13),d.gc(52),d.Jb(),d.Ib(53,"ion-input",20),d.Jb(),d.Jb(),d.Jb(),d.Kb(54,"ion-row"),d.Kb(55,"ion-col"),d.Kb(56,"ion-item",12),d.Kb(57,"ion-label",13),d.gc(58),d.Jb(),d.Ib(59,"ion-input",21),d.Jb(),d.Jb(),d.Kb(60,"ion-col"),d.Kb(61,"ion-item"),d.Kb(62,"ion-label",13),d.gc(63),d.Jb(),d.Ib(64,"ion-input",22),d.Jb(),d.Jb(),d.Jb(),d.Kb(65,"ion-row"),d.Kb(66,"ion-col"),d.Kb(67,"ion-item",12),d.Kb(68,"ion-label",13),d.gc(69),d.Jb(),d.Ib(70,"ion-input",23),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb()),2&i&&(d.Xb("translucent",!0),d.xb(7),d.hc(e.messages.cliente_cad_title),d.xb(5),d.Xb("formGroup",e.form),d.xb(4),d.Xb("ngIf",e.isShowTabPessoaFisica),d.xb(1),d.Xb("ngIf",e.isShowTabPessoaJuridica),d.xb(3),d.Xb("ngIf",!e.isPessoaJuridica),d.xb(1),d.Xb("ngIf",e.isPessoaJuridica),d.xb(1),d.Xb("ngIf",!e.isPessoaJuridica),d.xb(1),d.Xb("ngIf",e.isPessoaJuridica),d.xb(1),d.Xb("ngIf",e.isPessoaJuridica),d.xb(5),d.ic("",e.messages.cliente_cad_field_label_endereco," "),d.xb(1),d.yb("maxLength",e.entity.endereco_length),d.xb(4),d.ic("",e.messages.cliente_cad_field_label_cidade," "),d.xb(1),d.yb("maxLength",e.entity.cidade_length),d.xb(5),d.hc(e.messages.cliente_cad_field_label_uf),d.xb(2),d.Xb("ngForOf",e.listUf),d.xb(4),d.hc(e.messages.cliente_cad_field_label_cep),d.xb(1),d.Xb("clearIfNotMatch",!0),d.xb(5),d.hc(e.messages.cliente_cad_field_label_complemento),d.xb(1),d.yb("maxLength",e.entity.complemento_length),d.xb(5),d.hc(e.messages.cliente_cad_field_label_telefone),d.xb(5),d.hc(e.messages.cliente_cad_field_label_celular),d.xb(6),d.hc(e.messages.cliente_cad_field_label_email),d.xb(1),d.yb("maxLength",e.entity.email_length))},directives:[s.o,s.G,s.g,s.d,s.e,s.v,s.F,s.f,s.p,s.k,o.l,o.i,o.d,s.y,s.j,s.z,s.N,o.h,o.b,n.i,s.r,s.s,s.q,s.O,s.B,n.h,f.a,s.A,s.C],encapsulation:2}),i})();const S=d.Mb(P),k=[{path:"",component:P}];let F=(()=>{class i{}return i.\u0275mod=d.Fb({type:i}),i.\u0275inj=d.Eb({factory:function(e){return new(e||i)},imports:[[a.i.forChild(k)],a.i]}),i})(),j=(()=>{class i{}return i.\u0275mod=d.Fb({type:i}),i.\u0275inj=d.Eb({factory:function(e){return new(e||i)},imports:[[n.b,o.e,s.H,F,o.j,f.b]]}),i})()}}]);