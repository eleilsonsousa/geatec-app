(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{jFJU:function(t,e,o){"use strict";o.r(e),o.d(e,"ServicoCadPageModule",(function(){return v}));var i=o("ofXK"),n=o("3Pt+"),r=o("TEn/"),s=o("tyNb"),b=o("mrSG"),c=o("N2L1"),a=o("8L5w");class l extends a.a{constructor(){super(...arguments),this.nome_length=50,this.preco_length=9,this.dobservacao_length=100}}var u=o("JbiY"),m=o("fXoL");const h=["inputNome"];function d(t,e){if(1&t&&(m.Kb(0,"div",15),m.gc(1),m.Jb()),2&t){const t=m.Ub();m.xb(1),m.ic(" ",t.messages.field_required," ")}}let f=(()=>{class t extends c.a{ngOnInit(){this.createFormFields()}ionViewWillEnter(){this.hideLoading()}ionViewDidEnter(){this.showFocus()}initForm(){this.isAlterCad()?(this.entity=Object.assign(new l,this.entity),this.precoBRL=u.a.formatCurrencyToBRL(this.entity.preco),this.entity.preco=this.precoBRL):this.entity=new l}createFormFields(){this.initForm(),this.form=new n.c({nome:new n.a(this.entity.nome,[n.k.required]),preco:new n.a(this.entity.preco),observacao:new n.a(this.entity.observacao)})}submitForm(){return Object(b.a)(this,void 0,void 0,(function*(){this.validForm()&&(this.showLoading(),this.entity=this.formatEntity(),this.servicoController.salvarOuAlterar(this.entity).subscribe(t=>{this.entity.id||(this.entity.id=t.id),this.messageController.showMessageToast(this.messages.dialogs_register_save),this.navigatePostParams("servico-list",this.entity,this.entityIndex),this.hideLoading()}))}))}showFocus(){setTimeout(()=>this.inputNome.setFocus(),400)}formatCurrency(t){const e=u.a.formatCurrencyToBRL(t.value);this.precoBRL=e,t.value=e}formatEntity(){return this.entity.preco=u.a.formatCurrencyToDecimal(this.precoBRL),this.entity}}return t.\u0275fac=function(e){return p(e||t)},t.\u0275cmp=m.Bb({type:t,selectors:[["app-servico-cad"]],viewQuery:function(t,e){var o;1&t&&m.jc(h,!0),2&t&&m.bc(o=m.Tb())&&(e.inputNome=o.first)},features:[m.ub],decls:32,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","start"],["slot","end"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","checkmark"],["padding",""],[3,"formGroup","ngSubmit"],["lines","full"],["position","floating"],["formControlName","nome"],["inputNome",""],["class","error-message",4,"ngIf"],["formControlName","preco",3,"keyup"],["formControlName","observacao"],[1,"error-message"]],template:function(t,e){1&t&&(m.Kb(0,"ion-header",0),m.Kb(1,"ion-toolbar",1),m.Kb(2,"ion-buttons",2),m.Ib(3,"ion-back-button"),m.Jb(),m.Kb(4,"ion-buttons",2),m.Ib(5,"ion-menu-button"),m.Jb(),m.Kb(6,"ion-title"),m.gc(7),m.Jb(),m.Kb(8,"ion-buttons",3),m.Kb(9,"ion-button",4),m.Sb("click",(function(){return e.submitForm()})),m.Ib(10,"ion-icon",5),m.Jb(),m.Jb(),m.Jb(),m.Jb(),m.Kb(11,"ion-content",6),m.Kb(12,"form",7),m.Sb("ngSubmit",(function(){return e.submitForm()})),m.Kb(13,"ion-row"),m.Kb(14,"ion-col"),m.Kb(15,"ion-item",8),m.Kb(16,"ion-label",9),m.gc(17),m.Jb(),m.Ib(18,"ion-input",10,11),m.Jb(),m.fc(20,d,2,1,"div",12),m.Jb(),m.Kb(21,"ion-col"),m.Kb(22,"ion-item",8),m.Kb(23,"ion-label",9),m.gc(24),m.Jb(),m.Kb(25,"ion-input",13),m.Sb("keyup",(function(t){return e.formatCurrency(t.target)})),m.Jb(),m.Jb(),m.Jb(),m.Jb(),m.Kb(26,"ion-row"),m.Kb(27,"ion-col"),m.Kb(28,"ion-item",8),m.Kb(29,"ion-label",9),m.gc(30),m.Jb(),m.Ib(31,"ion-input",14),m.Jb(),m.Jb(),m.Jb(),m.Jb(),m.Jb()),2&t&&(m.Xb("translucent",!0),m.xb(7),m.hc(e.messages.servico_cad_title),m.xb(5),m.Xb("formGroup",e.form),m.xb(5),m.hc(e.messages.servico_cad_field_label_nome),m.xb(1),m.yb("maxLength",e.entity.nome_length),m.xb(2),m.Xb("ngIf",e.isSubmitted&&(null==e.errorControl.nome.errors?null:e.errorControl.nome.errors.required)),m.xb(4),m.hc(e.messages.servico_cad_field_label_preco),m.xb(1),m.yb("maxLength",e.entity.preco_length),m.xb(5),m.hc(e.messages.servico_cad_field_label_observacao),m.xb(1),m.yb("maxLength",e.entity.observacao_length))},directives:[r.o,r.G,r.g,r.d,r.e,r.v,r.F,r.f,r.p,r.k,n.l,n.i,n.d,r.y,r.j,r.r,r.s,r.q,r.O,n.h,n.b,i.j],encapsulation:2}),t})();const p=m.Mb(f),g=[{path:"",component:f}];let y=(()=>{class t{}return t.\u0275mod=m.Fb({type:t}),t.\u0275inj=m.Eb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(g)],s.i]}),t})(),v=(()=>{class t{}return t.\u0275mod=m.Fb({type:t}),t.\u0275inj=m.Eb({factory:function(e){return new(e||t)},imports:[[i.b,n.e,r.H,y,n.j]]}),t})()}}]);